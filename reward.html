<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Overlay</title>
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/comfy.js@latest/dist/comfy.min.js"></script>
    <script>
        function getQueryParam(name) {
            const regex = new RegExp('[?&]' + name + '=([^&#]*)', 'i');
            const result = regex.exec(window.location.search);
            return result ? decodeURIComponent(result[1]) : null;
        }

        var streamer = getQueryParam("streamer")
	var token = getQueryParam("t")
        var hex = getQueryParam("hex") || "red"

   ComfyJS.onReward =  (user, reward, cost, message, extra) => {
            const img = document.getElementById("myImage");
            const snd = document.getElementById("mySnd");
	   		</audio>
			snd.src = "box.mp3";
            img.src = "https://www.achievement-maker.com/xbox/"+reward+"?header="+user+"&email=&player=1&ext=.gif"; // Replace with the new image URL
	    setTimeout(()=>{
		img.src = "img.png"; // Replace with the new image URL    
		snd.src = ""; // Replace with the new image URL    
	    },5000)
        }
        ComfyJS.Init(streamer, token) 
    </script>
    <img id="myImage" src="img.png" alt="Image" width="300">
	<audio id="mySnd">
		<source src="box.mp3" type="audio/mpeg">
	</audio>
    </div>
    <script>
        function changeBackgroundColor(color) {
            document.getElementById("chat").style.color = hex;
        }
    </script>
</body>

</html>
